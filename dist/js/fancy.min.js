+function(t){"use strict";function e(e,n){return this.each(function(){var a=t(this),o=t(this).data("fancy.actionsheet"),s=t.extend({},t(this).data(),"object"==typeof e&&e);o||a.data("fancy.actionsheet",o=new i(this,s)),"string"==typeof e?o[e](n):o.open(n)})}var i=function(e,i){this.$element=t(e),this.$doc=t(document.body),this.options=i,this.$backdrop=this.isOpen=null};i.prototype.toggle=function(t){this.isOpen?this.close():this.open(t)},i.prototype.open=function(e){var i=this,n=t.Event("fancy:actionsheet:open",{relateTarget:e});this.$element.trigger(n),this.isOpen||(this.isOpen=!0,this.$element.one("tap",'[data-dismiss="actionsheet"]',t.proxy(this.close,this)),this.$element.one("tap","[data-value]",t.proxy(this.select,this)),this.backdrop(function(){var e=t.support.transition&&i.$element.hasClass("fade");i.$element.show(),e&&i.$element[0].offsetWidth,i.$element.addClass("in");var n=t.Event("fancy:actionsheet:opend");e?i.$element.one(t.support.transition.end,function(){i.$element.trigger("focus").trigger(n)}).emulateTransitionEnd(300):i.$element.trigger("focus").trigger(n)}))},i.prototype.close=function(e){e&&e.preventDefault(),e=t.Event("fancy:actionsheet:close"),this.$element.trigger(e),this.isOpen&&(this.isOpen=!1,this.$element.removeClass("in"),t.support.transition?this.$element.one(t.support.transition.end,t.proxy(this.hideActionsheet,this)).emulateTransitionEnd(300):this.hideActionsheet())},i.prototype.hideActionsheet=function(){var t=this;this.$element.hide(),this.backdrop(function(){t.$element.trigger("fancy:actionsheet:closed")})},i.prototype.backdrop=function(e){var i=this,n=this.$element.hasClass("fade")?"fade":"";if(this.isOpen){var a=t.support.transition&&n;if(this.$backdrop=t('<div class="backdrop '+n+'"/>').appendTo(this.$doc).one("tap",t.proxy(this.close,this)),a&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!e)return;a?this.$backdrop.one(t.support.transition.end,e).emulateTransitionEnd(150):e()}else if(!this.isOpen&&this.$backdrop){this.$backdrop.removeClass("in");var o=function(){i.removeBackdrop(),e&&e()};t.support.transition&&this.$backdrop.hasClass("fade")?this.$backdrop.one(t.support.transition.end,o).emulateTransitionEnd(150):o()}else e&&e()},i.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},i.prototype.select=function(e){if(e.target===e.currentTarget){var i=t(e.target),n=i.text(),a=i.data("value"),o=t.Event("fancy:actionsheet:selected",{id:a,val:n});this.close(),this.$element.trigger(o)}};var n=t.fn.actionsheet;t.fn.actionsheet=e,t.fn.actionsheet.constructor=i,t.fn.actionsheet.noConflict=function(){return t.fn.actionsheet=n,this},t(document).on("tap",'[data-toggle="actionsheet"]',function(){var i=t(this),n=t(i.data("target")),a=n.data("fancy.actionsheet")?"toggle":t.extend({},n.data(),i.data());e.call(n,a,this)})}(window.Zepto)+function(t,e){"use strict";var i=function(){var t={};return t.animation=function(){var t=e.createElement("div").style,i={animation:"animationend",OAnimation:"oAnimationEnd",MozAnimation:"animationend",WebkitAnimation:"webkitAnimationEnd"};for(var n in i)if(void 0!==t[n])return{end:i[n]}}(),t.extend=function(){var t=Array.prototype.slice.call(arguments).slice(1),e=arguments[0];for(var i in t){var n=t[i];for(var a in n)n.hasOwnProperty(a)&&(e[a]=n[a])}return e},t.hasClass=function(t,e){var i=new RegExp("(^|\\s)"+e+"(\\s|$)");return i.test(t.className)},t.addClass=function(e,i){if(i&&!t.hasClass(e,i)){var n=e.className.split(" ");n.push(i),e.className=n.join(" ")}},t.removeClass=function(e,i){if(t.hasClass(e,i)){var n=new RegExp("(^|\\s)"+i+"(\\s|$)","g");e.className=e.className.replace(n," ")}},t}(),n={duration:240,wait:2e3,type:"danger"},a=function(t){this.options=i.extend({},n,t),this._requestTransition()&&(this.el=this._build(),this.transitionIn())};a.prototype._build=function(){var t=e.createElement("div");return i.addClass(t,"alert"),i.addClass(t,this.options.type),t.textContent=this.options.content,e.body.appendChild(t),t},a.prototype._requestTransition=function(){return 0===e.querySelectorAll(".alert").length},a.prototype.transitionIn=function(){var t=function(e){e&&e.target!==this.el||(i.removeClass(this.el,"alert-in"),this.el.removeEventListener(i.animation.end,t),setTimeout(this.transitionOut.bind(this),this.options.wait))};i.addClass(this.el,"alert-in"),this.el.addEventListener(i.animation.end,t.bind(this),!1)},a.prototype.transitionOut=function(){var t=function(e){e&&e.target!==this.el||(this.el.removeEventListener(i.animation.end,t),this.el&&this.el.parentNode&&this.el.parentNode.removeChild(this.el))};i.addClass(this.el,"alert-out"),this.el.addEventListener(i.animation.end,t.bind(this),!1)},a.utils=i,t.falt=t.fancyalert=a}(window,document)+function(t,e){"use strict";var i=function(){};i.prototype.open=function(t,i){var n=$(t),a=n.hasClass("fade")?"fade":"",o=$.support.transition&&a;return this.$element=$('<div class="backdrop '+a+'"></div>').appendTo($(e.body)),o&&this.$element[0].offsetWidth,this.$element.addClass("in"),i?(o?this.$element.one($.support.transition.end,i).emulateTransitionEnd(150):i(),this):this},i.prototype.close=function(t){if(this.$element){this.$element.removeClass("in");var e=this,i=function(){e.removeBackdrop(),t&&t()};$.support.transition&&this.$element.hasClass("fade")?this.$element.one($.support.transition.end,i).emulateTransitionEnd(150):i()}return this},i.prototype.removeBackdrop=function(){this.$element&&this.$element.remove(),this.$element=null},t.Backdrop=i}(window,document)+function(t){"use strict";function e(t,e){if(t instanceof Date)return t;if("string"!=typeof t)throw new Error("Invalid date string");var i=t.split("-"),n=e.split("-"),a=new Date;a.setHours(0),a.setMinutes(0),a.setSeconds(0),a.setMilliseconds(0);for(var o in n){var s=i[o];"yyyy"===n[o]?a.setFullYear(s):"mm"===n[o]?a.setMonth(s-1):"dd"===n[o]&&a.setDate(s)}return a}function i(t){return t%4===0&&t%100!==0||t%400===0}function n(t,e){var i={dd:(t.getDate()<10?"0":"")+t.getDate(),mm:(t.getMonth()+1<10?"0":"")+(t.getMonth()+1),yyyy:t.getFullYear()},n=e;for(var a in i){var o=i[a];n=n.replace(a,o)}return n}function a(t){var e=t.getFullYear(),i=t.getMonth();return i>0?new Date(e,i-1,1,0,0,0,0):new Date(e-1,11,1,0,0,0,0)}function o(t){var e=t.getFullYear(),i=t.getMonth();return 11>i?new Date(e,i+1,1,0,0,0,0):new Date(e+1,0,1,0,0,0,0)}function s(t){var e=a(t),i=e.getFullYear(),n=e.getMonth(),o=r(i,n);return new Date(i,n,o,0,0,0,0)}function r(t,e){return[31,i(t)?29:28,31,30,31,30,31,31,30,31,30,31][e]}function d(e){return this.each(function(){var i=t(this),n=i.data("fancy.calendar");if(!n){var a=t.extend({},c.DEFAULTS,i.data(),"object"==typeof e&&e);i.data("fancy.calendar",n=new c(this,a))}"string"==typeof e?n[e]():n.open()})}var c=function(e,i){this.$element=t(e),this.options=i,this.isOpen=!1,this.backdrop=new window.Backdrop,this.isInput=this.$element.is("input"),this.viewDate=new Date,this.date=new Date,this.$picker=t(l.calendar).appendTo(t(document.body)),this._buildCalendarHead(),this._processOptions(),this._buildEvents(),this._buildCalendarBody()};c.DEFAULTS={format:"yyyy-mm-dd",weekStart:0,startDate:-(1/0),endDate:1/0,datesDisabled:void 0},c.prototype._buildCalendarHead=function(){for(var t=this.options.weekStart,e="<tr>";t<this.options.weekStart+7;)e+="<th>"+h.zh.daysShort[t++%7]+"</th>";e+="</tr>",this.$picker.find(".calendar thead").append(e)},c.prototype._processOptions=function(){if(this.options.startDate!==-(1/0)&&(this.options.startDate?this.options.startDate instanceof Date||(this.options.startDate=e(this.options.startDate,this.options.format)):this.options.startDate=-(1/0)),this.options.endDate!==1/0&&(this.options.endDate?this.options.endDate instanceof Date||(this.options.endDate=e(this.options.endDate,this.options.format)):this.options.endDate=1/0),this.isInput&&this.$element.attr("readonly","readonly"),this.options.datesDisabled){var t={};if("string"==typeof this.options.datesDisabled)t[this.options.datesDisabled]=e(this.options.datesDisabled,this.options.format).getTime();else{if(!(this.options.datesDisabled instanceof Array))throw new Error("Invalid dates disabled! It should be only a single date string or Array of date strings.");var i=this;this.options.datesDisabled.forEach(function(n){t[n]=e(n,i.options.format).getTime()})}this.options.datesDisabled=t}else this.options.datesDisabled={};this.viewDate<this.options.startDate&&(this.viewDate=this.options.startDate),this.viewDate>this.options.endDate&&(this.viewDate=this.options.endDate),this.isInput&&this.$element.val()?this.activeDate=e(this.$element.val(),this.options.format):!this.isInput&&this.$element.data("activeDate").trim()&&(this.activeDate=e(this.$element.data("activeDate").trim(),this.options.format))},c.prototype._buildEvents=function(){this.$picker.on("tap.fancy.calendar.confirm",'[data-confirm="calendar"]',t.proxy(this.confirm,this)),this.$picker.on("tap.fancy.calendar.dismiss",'[data-dismiss="calendar"]',t.proxy(this.close,this)),this.$picker.on("tap.fancy.calendar.flip","[data-flip]",t.proxy(this.flip,this)),this.$picker.on("tap.fancy.calendar.pick","a[data-value]",t.proxy(this.pickDay,this))},c.prototype._buildCalendarBody=function(){var t,e=this.viewDate.getFullYear(),i=this.viewDate.getMonth(),s=a(this.viewDate),d=o(this.viewDate),c=new Date(this.date.getFullYear(),this.date.getMonth(),this.date.getDate(),0,0,0,0),l=new Date(e,i,1,0,0,0,0),p=s.getMonth(),h=d.getMonth(),f=l.getDay()-this.options.weekStart,u=r(s.getFullYear(),s.getMonth());0>f?t=u-(6+f):f>0?t=u-f+1:(t=1,s.setMonth(i),s.setFullYear(e)),s.setDate(t);for(var v=s,m=[],g=0;;){v.getDay()===this.options.weekStart&&m.push("<tr>");var $="";$=v.getMonth()===p?"prev":v.getMonth()===h?"next":"now",(v<this.options.startDate||v>this.options.endDate||this.options.datesDisabled[n(v,this.options.format)]===v.getTime())&&($+=" disabled"),v.getTime()===c.getTime()&&($+=" current"),this.activeDate instanceof Date&&v.getTime()===this.activeDate.getTime()&&($+=" active");var y='data-value="'+n(v,this.options.format)+'"';if(m.push('<td class="'+$+'"><a href="javascript: void(0)" '+(v<this.options.startDate||v>this.options.endDate?"":y)+">"+v.getDate()+"</a></td>"),v.getDay()===(0===this.options.weekStart?6:this.options.weekStart-1)&&m.push("</tr>"),v.setDate(v.getDate()+1),v.getDay()===this.options.weekStart&&v.getMonth()===h)break;if(g++,g>99)throw new Error("Infinite loop. There must be some errors...")}this.$picker.find(".calendar-body tbody").empty().append(m.join("")),this._refrehCalenarHead()},c.prototype._refrehCalenarHead=function(){var t=this.viewDate.getFullYear()+h.zh.yearSuffix+h.zh.months[this.viewDate.getMonth()];this.$picker.find(".calendar-body .current-month").text(t);var e=s(this.viewDate),i=o(this.viewDate);e<this.options.startDate?this.$picker.find('[data-flip="prev"]').hide():this.$picker.find('[data-flip="prev"]').show(),i>this.options.endDate?this.$picker.find('[data-flip="next"]').hide():this.$picker.find('[data-flip="next"]').show()},c.prototype.open=function(){var e=this,i=t.Event("open:fancy:calendar",{_relatedTarget:this.$picker[0]});this.$element.trigger(i),this.isOpen||i.isDefaultPrevented()||(this.isOpen=!0,this.backdrop.open(this.$picker[0],function(){var i=t.support.transition&&e.$picker.hasClass("fade");e.$picker.show(),i&&e.$picker[0].offsetWidth,e.$picker.addClass("in");var n=t.Event("opened:fancy:calendar",{_relatedTarget:e.$picker[0]});i?e.$picker.one(t.support.transition.end,function(){e.$element.trigger(n)}).emulateTransitionEnd(300):e.$element.trigger(n)}))},c.prototype.close=function(e){e&&e.preventDefault(),e=t.Event("close:fancy:calendar"),this.$element.trigger(e),this.isOpen&&!e.isDefaultPrevented()&&(this.isOpen=!1,this.$picker.removeClass("in"),t.support.transition?this.$picker.one(t.support.transition.end,t.proxy(this.hideCalendar,this)).emulateTransitionEnd(300):this.hideCalendar())},c.prototype.pickDay=function(i){var n=t(i.target),a=n.parent();if(a.hasClass("now")&&!a.hasClass("disabled"))this.$picker.find("table td.active").removeClass("active"),n.closest("td").addClass("active"),this.activeDate=e(n.data("value"),this.options.format);else if(!a.hasClass("disabled")){this.$picker.find("table td.active").removeClass("active");var o=this,s=n.data("value");this.activeDate=e(s,this.options.format),this.$element.one("flip:fancy:calendar",function(){o.$picker.find('table a[data-value="'+s+'"]').trigger("tap")}),this.$picker.find('[data-flip="'+a.attr("class").trim()+'"]').trigger("tap")}},c.prototype.flip=function(e){var i=t(e.target),n=i.data("flip");this.viewDate="next"===n?o(this.viewDate):a(this.viewDate),this._buildCalendarBody(),this.$element.trigger("flip:fancy:calendar")},c.prototype.confirm=function(){var t=this.$picker.find("table td.active");t.length&&(this.isInput?this.$element.val(t.children().data("value")):this.$element.data("viewDate",t.children.data("value")),this.close())},c.prototype.hideCalendar=function(){var e=this;this.$picker.hide(),this.backdrop.close(function(){e.$element.trigger(t.Event("closed:fancy:calendar",{_relatedTarget:e.$picker[0]}))})};var l={header:'<thead><tr><th><a href="javascript: void(0)" class="icon icon-small icon-chevron-left" data-flip="prev"></a></th><th colspan="5" class="current-month"></th><th><a href="javascript: void(0)" class="icon icon-small icon-chevron-right" data-flip="next"></a></th></tr></thead>'};l.calendar='<div class="calendar fade"><div class="calendar-head"><a href="javascript: void(0)" class="button pull-left" data-dismiss="calendar">取消</a><a href="javascript: void(0)" class="button pull-right" data-confirm="calendar">确定</a></div><div class="calendar-body"><table>'+l.header+"<tbody></tbody></table></div></div>";var p=t.fn.calendar;t.fn.calendar=d,t.fn.calendar.Constructor=c;var h=t.fn.calendar.dates={zh:{days:["周日","周一","周二","周三","周四","周五","周六","周日"],daysShort:["日","一","二","三","四","五","六","日"],months:["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],meridiem:["am","pm"],suffix:["st","nd","rd","th"],today:"今天",yearSuffix:"年"}};t.fn.noConflict=function(){return t.fn.calendar=p,this},t(document).ready(function(){t('[data-toggle="calendar"]').on("tap.fancy.calendar",function(){var e=t(this),i=e.data("fancy.calendar")?"open":e.data();d.call(e,i)})})}(window.Zepto)+function(t){"use strict";function e(e){return this.each(function(){var n=t(this),a=t.extend({},i.DEFAULTS,n.data(),"object"==typeof e&&e),o=n.data("fancy.combox");o||n.data("fancy.combox",o=new i(this,a)),o.init()})}var i=function(e,i){this.$element=t(e),this.$container=null,this.$optionContainer=null,this.$backdrop=null,this.options=i,this.menuOpen=!1};i.DEFAULTS={placeholder:"请选择",clazz:"",columns:3,optionIconSize:48},i.prototype.init=function(){this.$element.css({display:"none",opacity:0});var e='<div class="combox-container"><a href="javascript: void(0)" class="combox-current '+this.options.clazz+'" data-role="currentOption"><span class="combox-chosen">'+this.options.placeholder+'</span><span class="icon icon-chevron-down icon-small combox-menu-indicator"></a><div class="option-container fade"></div></div>';this.$container=t(e).insertAfter(this.$element),this.$optionContainer=this.$container.find(".option-container");for(var i=this.$element.find("li"),n=Math.ceil(i.length/this.options.columns),a=n*this.options.columns-i.length,o=1;n>=o;o++){t('<div class="combox-option-row" />').appendTo(this.$optionContainer);for(var s=i.slice((o-1)*this.options.columns,o*this.options.columns),r=0;r<s.length;r++){var d=t(s[r]).children();t(this.constructOption(d)).appendTo(this.$container.find(".combox-option-row").last())}}for(var c=0;a>c;c++)t(this.constructOption()).appendTo(this.$container.find(".combox-option-row").last()),0===c&&this.$container.find(".combox-option").last().append('<i class="option-horizontal-dots"></i>');var l=this;this.$container.on("tap",'[data-role="currentOption"]',t.proxy(this.toggle,this)),this.$container.on("tap",'[data-role="comboxOption"]',function(){var e=t(".combox-option").index(t(this)),i=t(l.$element.find("li")[e]).children(),n=t.Event("fancy:combox:choose",{relatedTarget:i[0]});l.closeMenu(),l.$container.find(".combox-chosen").text(t(this).text()),l.$element.trigger(n)})},i.prototype.constructOption=function(t){var e="";if(t){var i=t.data("icon")?'<img src="'+t.data("icon")+'" style="width: '+this.options.optionIconSize+"px;height: "+this.options.optionIconSize+'px;display: block;">':"",n=t.text(),a=t.data("disabled");e=a?'<a href="javascript: void(0)" class="combox-option" disabled>'+i+n+"</a>":'<a href="javascript: void(0)" class="combox-option" data-role="comboxOption" data-target="'+t.attr("href")+'">'+i+n+"</a>"}else e='<a href="javascript: void(0)" class="combox-option" disabled></a>';return e},i.prototype.toggle=function(){this.menuOpen?this.closeMenu():this.showMenu()},i.prototype.showMenu=function(){var e=this,i=t.Event("fancy:combox:open");this.$element.trigger(i),this.menuOpen||i.isDefaultPrevented()||(this.menuOpen=!0,this.$container.addClass("combox-menu-open"),this.backdrop(function(){var i=t.support.transition&&e.$optionContainer.hasClass("fade");e.$optionContainer.show();var n=e.$optionContainer[0].offsetWidth/e.options.columns;e.$container.find(".combox-option").each(function(){t(this).css("width",n+"px")}),i&&e.$optionContainer[0].offsetWidth,e.$optionContainer.addClass("in");var a=t.Event("fancy:combox:opend");i?e.$optionContainer.one(t.support.transition.end,function(){e.$element.trigger(a)}).emulateTransitionEnd(150):e.$optionContainer.trigger(a)}))},i.prototype.closeMenu=function(e){e&&e.preventDefault(),e=t.Event("fancy:combox:close"),this.$element.trigger(e),this.menuOpen&&!e.isDefaultPrevented()&&(this.menuOpen=!1,this.$container.removeClass("combox-menu-open"),this.$optionContainer.removeClass("in"),t.support.transition&&this.$optionContainer.hasClass("fade")?this.$optionContainer.one(t.support.transition.end,t.proxy(this.hideMenu,this)).emulateTransitionEnd(150):this.hideMenu())},i.prototype.hideMenu=function(){var t=this;this.$optionContainer.hide(),this.backdrop(function(){t.$element.trigger("fancy:combox:closed")})},i.prototype.backdrop=function(e){var i=this,n=this.$container.find(".option-container").hasClass("fade")?"fade":"";if(this.menuOpen){var a=t.support.transition&&n;if(this.$backdrop=t('<div class="backdrop '+n+'" />').appendTo(t(document.body)),this.$backdrop.one("tap",t.proxy(this.closeMenu,this)),a&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!e)return;a?this.$backdrop.one(t.support.transition.end,e).emulateTransitionEnd(150):e()}else if(!this.menuOpen&&this.$backdrop){this.$backdrop.removeClass("in");var o=function(){i.removeBackdrop(),e&&e()};t.support.transition&&this.$backdrop.hasClass("fade")?this.$backdrop.one(t.support.transition.end,o).emulateTransitionEnd(150):o()}else e&&e()},i.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null};var n=t.fn.combox;t.fn.combox=e,t.fn.combox.Constructor=i,t.fn.combox.noConflict=function(){return t.fn.combox=n,this}}(window.Zepto),+function(t){"use strict";function e(e){return this.each(function(){var n=t(this),a=n.data("fancy.drawerselector"),o=t.extend({},i.DEFAULTS,n.data(),"object"==typeof e&&e);a||n.data("fancy.drawerselector",a=new i(this,o)),"string"==typeof e?a[e]():a.open()})}var i=function(e,i){this.$element=t(e),this.$target=t(this.$element.data("target")||this.$element.attr("href")),this.$doc=t(document.body),this.options=i,this.$backdrop=this.isOpen=null};i.DEFAULTS={},i.prototype.toggle=function(){this.isOpen?this.close():this.open()},i.prototype.open=function(){var e=this,i=t.Event("fancy:drawerselector:open");this.$element.trigger(i),this.isOpen||(this.isOpen=!0,this.$target.find('input[type="radio"]').one("change",t.proxy(this.select,this)),this.backdrop(function(){var i=t.support.transition&&e.$target.hasClass("fade");e.$target.show(),i&&e.$target[0].offsetWidth,e.$target.addClass("in");var n=t.Event("fancy:drawerselector:opend");i?e.$target.one(t.support.transition.end,function(){e.$target.trigger(n)}).emulateTransitionEnd(300):e.$target.trigger(n)}))},i.prototype.close=function(e){var i=t.Event("fancy:drawerselector:close");this.$element.trigger(i),this.isOpen&&(this.isOpen=!1,this.$target.removeClass("in"),t.support.transition?this.$target.one(t.support.transition.end,t.proxy(this.hideDrawer,this,e)).emulateTransitionEnd(300):this.hideDrawer(e))},i.prototype.hideDrawer=function(t){var e=this;this.$target.hide(),this.backdrop(function(){e.$element.trigger("fancy:drawerselector:closed"),t&&t()})},i.prototype.backdrop=function(e){var i=this,n=this.$target.hasClass("fade")?"fade":"";if(this.isOpen){var a=t.support.transition;if(this.$backdrop=t('<div class="backdrop '+n+'"/>').appendTo(this.$doc).one("tap",t.proxy(this.close,this)),a&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!e)return;a?this.$backdrop.one(t.support.transition.end,e).emulateTransitionEnd(150):e()}else if(!this.isOpen&&this.$backdrop){this.$backdrop.removeClass("in");var o=function(){i.removeBackdrop(),e&&e()};t.support.transition&&this.$backdrop.hasClass("fade")?this.$backdrop.one(t.support.transition.end,o).emulateTransitionEnd(150):o()}else e&&e()},i.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},i.prototype.select=function(e){if(e.currentTarget===e.target){var i=this,n=e.target.value,a=t(e.target).parents(".item-radio").text();e=t.Event("fancy:drawerselector:selected",{id:n,val:a}),this.close(function(){i.$element.trigger(e)})}};var n=t.fn.drawerselector;t.fn.drawerselector=e,t.fn.drawerselector.constructor=i,t.fn.drawerselector.noConflict=function(){return t.fn.drawerselector=n,this},t(document).on("tap",'[data-toggle="drawerselector"]',function(){var i=t(this),n=i.data("fancy.drawerselector")?"toggle":t.extend({},i.data());e.call(i,n)})}(window.Zepto)+function(t){"use strict";function e(e){return this.each(function(){var n=t(this),a=n.data("fancy.dropwizard"),o=t.extend({},i.DEFAULTS,n.data(),"object"==typeof e&&e);a||n.data("fancy.dropwizard",a=new i(this,o)),"string"==typeof e&&a[e]()})}var i=function(e,i){this.$element=t(e),this.$target=t(t(e).data("target")||t(e).attr("href")),this.$ul=t(e).closest("ul"),this.$backdrop=null,this.options=i,this.isOpen=null,this.$target.on("tap","[data-direct]",t.proxy(this.direct,this)),this.$target.on("tap",'[data-confirm="dropwizard"]',t.proxy(this.confirm,this))};i.DEFAULTS={maxTextLength:6},i.prototype.toggle=function(){this.isOpen?this.close():this.open()},i.prototype.open=function(){var e=this.$element,i=this,n=t.Event("fancy:dropwizard:open");if(e.trigger(n),!n.isDefaultPrevented()){var a=this.$ul.find(".open > a")[0];a&&this.switchOpen(a),this.isOpen=!0,this.backdrop(function(){var e=t.support.transition&&i.$target.hasClass("fade");i.$element.parent().addClass("open"),i.$target.addClass("active"),e&&i.$target[0].offsetWidth,i.$target.addClass("in");var n=t.Event("fancy:dropwizard:opend",{relatedTarget:i.$target[0]});e?i.$target.one(t.support.transition.end,function(){i.$element.trigger(n)}).emulateTransitionEnd(150):i.$element.trigger(n)})}},i.prototype.close=function(){var e=t.Event("fancy:dropwizard:close");this.$element.trigger(e),e.isDefaultPrevented()||(this.isOpen=!1,this.$element.parent().removeClass("open"),this.$target.removeClass("in"),t(".dropwizard-backdrop").remove(),t.support.transition&&this.$target.hasClass("fade")?this.$target.one(t.support.transition.end,t.proxy(this.hideDropwizardMenu,this)).emulateTransitionEnd(300):this.hideDropwizardMenu())},i.prototype.hideDropwizardMenu=function(){var t=this;this.$target.removeClass("active"),this.backdrop(function(){t.$element.trigger("fancy:dropwizard:closed")})},i.prototype.switchOpen=function(e){var i=t(e),n=t(i.data("target")||i.attr("href"));i.parent().removeClass("open"),i.data("fancy.dropwizard").isOpen=!1,n.removeClass("in"),t.support.transition&&n.hasClass("fade")?n.one(t.support.transition.end,function(){t(this).removeClass("active")}).emulateTransitionEnd(300):n.removeClass("active")},i.prototype.direct=function(e){e.preventDefault();var i=t(e.target),n=t(i.data("direct"));if(e=t.Event("fancy:dropwizard:direct",{relatedTarget:n[0]}),i.trigger(e),!n.hasClass("active")){var a=i.closest("ul"),o=a.find(".active");o.length&&t(o.removeClass("active").children().data("direct")).removeClass("active"),i.parent().addClass("active"),n.addClass("active"),e=t.Event("fancy:dropwizard:directed",{relatedTarget:n[0]}),i.trigger(e)}},i.prototype.confirm=function(e){var i=t(e.target),n=i.text().trim();i.closest(".dropwizard-menu").find(".menu li.active").each(function(){t(this).children().data("confirm")&&t(this).removeClass("active")}),i.parent().addClass("active"),this.$ul.find(".open > a > span").text(n.length>this.options.maxTextLength?n.substring(0,this.options.maxTextLength-1)+"...":n),this.$ul.find(".open > a").trigger("tap").trigger("fancy:dropwizard:confirm")},i.prototype.backdrop=function(e){var i=this;if(this.isOpen){if(t(".backdrop.dropwizard-backdrop").length||(this.$backdrop=t('<div class="backdrop fade in dropwizard-backdrop" />').appendTo(t(document.body)),this.$backdrop.one("tap",function(t){t.target===t.currentTarget&&i.$ul.find(".open > a").trigger("tap")})),!e)return;e()}else e&&e()},i.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null};var n=t.fn.dropwizard;t.fn.dropwizard=e,t.fn.dropwizard.noConflict=function(){return t.fn.dropwizard=n,this},t(document).on("tap",'[data-toggle="dropwizard"]',function(i){i.preventDefault(),e.call(t(this),"toggle")})}(window.Zepto),+function(t){"use strict";function e(e,n){return this.each(function(){var a=t(this),o=t(this).data("fancy.fixedselector"),s=t.extend({},t(this).data(),"object"==typeof e&&e);o||a.data("fancy.fixedselector",o=new i(this,s)),"string"==typeof e?o[e](n):o.open(n)})}var i=function(e,i){this.$element=t(e),this.$doc=t(document.body),this.options=i,this.$backdrop=this.isOpen=null,this.$element.on("tap",".selector-item",t.proxy(this.selectMenu,this))};i.DEFAULTS={},i.prototype.toggle=function(t){this.isOpen?this.close():this.open(t)},i.prototype.open=function(e){var i=this,n=t.Event("fancy:fixedselector:open",{relateTarget:e});this.$element.trigger(n),this.isOpen||(this.isOpen=!0,this.$element.one("tap",'[data-dismiss="fixedselector"]',t.proxy(this.close,this)),this.$element.one("tap",'[data-confirm="fixedselector"]',t.proxy(this.confirm,this)),this.backdrop(function(){var e=t.support.transition&&i.$element.hasClass("fade");i.$element.show(),e&&i.$element[0].offsetWidth,i.$element.addClass("in");var n=t.Event("fancy:fixedselector:opend");e?i.$element.one(t.support.transition.end,function(){i.$element.trigger("focus").trigger(n)}).emulateTransitionEnd(300):i.$element.trigger("focus").trigger(n)}))},i.prototype.close=function(e){e&&e.preventDefault(),e=t.Event("fancy:fixedselector:close"),this.$element.trigger(e),this.isOpen&&(this.isOpen=!1,this.$element.removeClass("in"),t.support.transition?this.$element.one(t.support.transition.end,t.proxy(this.hideSelector,this)).emulateTransitionEnd(300):this.hideSelector())},i.prototype.hideSelector=function(){var t=this;this.$element.hide(),this.backdrop(function(){t.$element.trigger("fancy:fixedselector:closed")})},i.prototype.backdrop=function(e){var i=this,n=this.$element.hasClass("fade")?"fade":"";if(this.isOpen){var a=t.support.transition;if(this.$backdrop=t('<div class="backdrop '+n+'"/>').appendTo(this.$doc).one("tap",t.proxy(this.close,this)),a&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!e)return;a?this.$backdrop.one(t.support.transition.end,e).emulateTransitionEnd(150):e()}else if(!this.isOpen&&this.$backdrop){this.$backdrop.removeClass("in");var o=function(){i.removeBackdrop(),e&&e()};t.support.transition&&this.$backdrop.hasClass("fade")?this.$backdrop.one(t.support.transition.end,o).emulateTransitionEnd(150):e()}else e&&e()},i.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},i.prototype.selectMenu=function(e){if(e.target===e.currentTarget){var i=t(e.target);i.closest(".selector-group").find(".active").removeClass("active"),i.parent().addClass("active")}},i.prototype.confirm=function(){var e=[];this.$element.find(".selector-group").each(function(){var i=t(this);e.push({id:i.find(".active").children().data("value"),val:i.find(".active").children().text()})}),this.close();var i=t.Event("fancy:fixedselector:confirm",{values:e});this.$element.trigger(i)};var n=t.fn.FixedSelector;t.fn.fixedSelector=e,t.fn.fixedSelector.constructor=i,t.fn.fixedSelector.noConflict=function(){return t.fn.fixedSelector=n,this},t(document).on("tap",'[data-toggle="fixedselector"]',function(){var i=t(this),n=t(i.data("target")),a=i.data("fancy.fixedselector")?"toggle":t.extend({},n.data(),i.data());e.call(n,a,this)})}(window.Zepto)+function(t){"use strict";function e(e){return this.each(function(){var n=t(this),a=n.data("fancy.fullcover"),o=t.extend({},i.DEFAULTS,n.data(),"object"==typeof e&&e);a||n.data("fancy.fullcover",a=new i(this,o)),"string"==typeof e?a[e]():a.open()})}var i=function(e,i){this.$element=t(e),this.target=this.$element.data("target")||this.$element.attr("href"),this.$doc=t(document.body),this.options=i,this.$backdrop=null,this.$target=null,this.isOpen=null};i.DEFAULTS={},i.prototype.toggle=function(){this.isOpen?this.close():this.open()},i.prototype.open=function(){var e=this,i=t.Event("fancy:fullcover:open");if(this.$element.trigger(i),!this.isOpen){this.isOpen=!0;var n=t.support.transition,a='<div id="'+this.target.substring(1)+'" class="full-cover fade"></div>';this.$target=t(a).appendTo(this.$doc),this.$element.trigger("fancy:fullcover:opening"),n&&this.$target[0].offsetWidth,this.$target.addClass("in"),i=t.Event("fancy:fullcover:opend"),n?this.$target.one(t.support.transition.end,function(){e.$target.trigger(i)}).emulateTransitionEnd(300):e.$target.trigger(i)}},i.prototype.close=function(e){var i=t.Event("fancy:fullcover:close");this.$element.trigger(i),this.isOpen&&(this.isOpen=!1,this.$target.removeClass("in"),t.support.transition?this.$target.one(t.support.transition.end,t.proxy(this.hideCover,this,e)).emulateTransitionEnd(300):this.hideCover(e))},i.prototype.hideCover=function(t){this.$target.remove(),this.$element.trigger("fancy:fullcover:closed"),t&&t()};var n=t.fn.fullcover;t.fn.fullcover=e,t.fn.fullcover.noConflict=function(){return t.fn.fullcover=n,this},t(document).on("tap",'[data-toggle="fullcover"]',function(){var i=t(this),n=i.data("fancy.fullcover")?"toggle":t.extend({},i.data());e.call(i,n)})}(window.Zepto)+function(t){"use strict";function e(e,n){return this.each(function(){var a=t(this),o=t(this).data("fancy.gearselector"),s=t.extend({},t(this).data(),"object"==typeof e&&e);o||a.data("fancy.gearselector",o=new i(this,s)),"string"==typeof e?o[e](n):o.open(n)})}var i=function(e,i){this.$element=t(e),this.$doc=t(document.body),this.options=i,this.$backdrop=this.isOpen=null,this.$element.on("tap",".selector-item",t.proxy(this.switchMenu,this))};i.DEFAULTS={},i.prototype.toggle=function(t){this.isOpen?this.close():this.open(t)},i.prototype.open=function(e){var i=this,n=t.Event("fancy:gearselector:open",{relateTarget:e});this.$element.trigger(n),this.isOpen||(this.isOpen=!0,this.$element.one("tap",'[data-dismiss="gearselector"]',t.proxy(this.close,this)),this.$element.one("tap",'[data-confirm="gearselector"]',t.proxy(this.confirm,this)),this.backdrop(function(){var e=t.support.transition&&i.$element.hasClass("fade");i.$element.show(),e&&i.$element[0].offsetWidth,i.$element.addClass("in");var n=t.Event("fancy:gearselector:opend");e?i.$element.one(t.support.transition.end,function(){i.$element.trigger("focus").trigger(n)}).emulateTransitionEnd(300):i.$element.trigger("focus").trigger(n)}))},i.prototype.close=function(e){e&&e.preventDefault(),
e=t.Event("fancy:gearselector:close"),this.$element.trigger(e),this.isOpen&&(this.isOpen=!1,this.$element.removeClass("in"),t.support.transition?this.$element.one(t.support.transition.end,t.proxy(this.hideSelector,this)).emulateTransitionEnd(300):this.hideSelector())},i.prototype.hideSelector=function(){var t=this;this.$element.hide(),this.backdrop(function(){t.$element.trigger("fancy:gearselector:closed")})},i.prototype.backdrop=function(e){var i=this,n=this.$element.hasClass("fade")?"fade":"";if(this.isOpen){var a=t.support.transition;if(this.$backdrop=t('<div class="backdrop '+n+'"/>').appendTo(this.$doc).one("tap",t.proxy(this.close,this)),a&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!e)return;a?this.$backdrop.one(t.support.transition.end,e).emulateTransitionEnd(150):e()}else if(!this.isOpen&&this.$backdrop){this.$backdrop.removeClass("in");var o=function(){i.removeBackdrop(),e&&e()};t.support.transition&&this.$backdrop.hasClass("fade")?this.$backdrop.one(t.support.transition.end,o).emulateTransitionEnd(150):e()}else e&&e()},i.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},i.prototype.switchMenu=function(e){if(e.target===e.currentTarget){var i=t(e.target),n=t(e.target).data("submenu"),a=i.closest(".selector-group").find(".active");if(a.length){a.removeClass("active");for(var o=a;o&&o.children().data("submenu");){var s=t(o.children().data("submenu")).removeClass("active");o=s.children(".active").length?s.children(".active").removeClass("active"):null}}if(i.parent().addClass("active"),n)if(t(n).length)t(n).addClass("active");else if(this.options.navigation){var r=this.options.navigation,d=i.data("params");t.ajax({url:r,data:d,type:"GET",success:function(){}}).done(function(){t(n).addClass("active")})}}},i.prototype.confirm=function(){var e=!0,i=[];if(this.$element.find(".selector-group.active").each(function(n){var a=t(this),o=a.find(".active").children().data("value"),s=a.find(".active").children().text();return"null"==s.trim()?(e=!1,!1):void i.push({index:n,id:o,val:s})}),e){this.close();var n=t.Event("fancy:gearselector:confirm",{values:i});this.$element.trigger(n)}};var n=t.fn.GearSelector;t.fn.gearSelector=e,t.fn.gearSelector.constructor=i,t.fn.gearSelector.noConflict=function(){return t.fn.gearSelector=n,this},t(document).on("tap",'[data-toggle="gearselector"]',function(){var i=t(this),n=t(i.data("target")),a=i.data("fancy.gearselector")?"toggle":t.extend({},n.data(),i.data());e.call(n,a,this)})}(window.Zepto)+function(t){"use strict";function e(e){return this.each(function(){var n=t(this),a=n.data("fancy.modal"),o=t.extend({},n.data(),"object"==typeof e&&e);a||n.data("fancy.modal",a=new i(this,o)),"string"==typeof e?a[e]():a.open()})}var i=function(e,i){this.$element=t(e),this.$target=t(this.$element.data("target")||this.$element.attr("href")),this.$doc=t(document.body),this.options=i,this.$backdrop=this.isOpen=null};i.DEFAULTS={},i.prototype.toggle=function(){this.isOpen?this.close():this.open()},i.prototype.open=function(){var e=this,i=t.Event("fancy:modal:open");this.$element.trigger(i),this.isOpen||i.isDefaultPrevented()||(this.isOpen=!0,this.$doc.addClass("modal-open"),this.$target.one("tap",'[data-dismiss="modal"]',t.proxy(this.close,this)),this.backdrop(function(){var i=t.support.transition&&e.$target.hasClass("fade");e.$target.show().scrollTop(0),i&&e.$target[0].offsetWith,e.$target.addClass("in");var n=t.Event("fancy:modal:opend");i?e.$target.find(".modal-dialog").one(t.support.transition.end,function(){e.$target.trigger("focus").trigger(n)}).emulateTransitionEnd(300):e.$target.trigger("focus").trigger(n)}))},i.prototype.close=function(e){e&&e.preventDefault(),e=t.Event("fancy:modal:close"),this.$element.trigger(e),this.isOpen&&!e.isDefaultPrevented()&&(this.isOpen=!1,this.$doc.removeClass("modal-open"),this.$target.removeClass("in"),t.support.transition&&this.$target.hasClass("fade")?this.$target.one(t.support.transition.end,t.proxy(this.hideDialog,this)).emulateTransitionEnd(300):this.hideDialog())},i.prototype.hideDialog=function(){var t=this;this.$target.hide(),this.backdrop(function(){t.$element.trigger("fancy:modal:closed")})},i.prototype.backdrop=function(e){var i=this,n=this.$target.hasClass("fade")?"fade":"";if(this.isOpen){var a=t.support.transition&&n;if(this.$backdrop=t('<div class="backdrop '+n+'" />').appendTo(this.$doc),this.$target.one("tap",t.proxy(function(t){t.target===t.currentTarget&&this.close.call(this)},this)),a&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!e)return;a?this.$backdrop.one(t.support.transition.end,e).emulateTransitionEnd(150):e()}else if(!this.isOpen&&this.$backdrop){this.$backdrop.removeClass("in");var o=function(){i.removeBackdrop(),e&&e()};t.support.transition&&this.$backdrop.hasClass("fade")?this.$backdrop.one(t.support.transition.end,o).emulateTransitionEnd(150):o()}else e&&e()},i.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null};var n=t.fn.modal;t.fn.modal=e,t.fn.modal.noConflict=function(){return t.fn.modal=n,this},t(document).on("tap",'[data-toggle="modal"]',function(){var i=t(this),n=i.data("fancy.modal")?"toggle":t.extend({},i.data());e.call(i,n)})}(window.Zepto)+function(t){"use strict";function e(e){return this.each(function(){var n=t(this),a=n.data("fancy.segmentedcontrol");a||n.data("fancy.segmentedcontrol",a=new i(this)),"string"==typeof e&&a[e]()})}var i=function(e){this.$element=t(e)};i.prototype["switch"]=function(){var e=this.$element,i=e.closest(".segmented-control"),n=t(e.data("target")||e.attr("href")),a=n.closest(".segmented-content");if(!e.hasClass("active")){var o=i.find(".active"),s=a.find(".active"),r=t.Event("fancy:segmentedcontrol:switching");e.trigger(r),o.removeClass("active"),e.addClass("active"),s.removeClass("active"),n.addClass("active"),e.trigger("fancy:segmentedcontrol:switched")}};var n=t.fn.SegmentedControl;t.fn.segmentedControl=e,t.fn.segmentedControl.constructor=i,t.fn.segmentedControl.noConflict=function(){return t.fn.segmentedControl=n,this},t(document).on("tap",'[data-toggle="segmented"]',function(i){i.preventDefault(),e.call(t(this),"switch")})}(window.Zepto)+function(t){"use strict";function e(e){return this.each(function(){var n=t(this),a=n.data("fancy.tab");a||n.data("fancy.tab",a=new i(this)),"string"==typeof e&&a[e]()})}var i=function(e){this.$element=t(e)};i.prototype.show=function(){var e=this.$element,i=e.closest("ul"),n=e.data("target")||e.attr("href");if(!e.parent("li").hasClass("active")){var a=i.find(".active a"),o=t.Event("fancy:tab:hide",{relatedTarget:e[0]}),s=t.Event("fancy:tab:show",{relatedTarget:a[0]});if(a.trigger(o),e.trigger(s),!s.isDefaultPrevented()&&!o.isDefaultPrevented()){var r=t(n);this.activate(e.closest("li"),i),this.activate(r,r.parent(),function(){a.trigger("fancy:tab:hidden",{relatedTarget:e[0]}),e.trigger("fancy:tab:shown",{relatedTarget:a[0]})})}}},i.prototype.activate=function(e,i,n){function a(){o.removeClass("active").find('[data-toggle="tab"]').attr("aria-expanded",!1),e.addClass("active").find('[data-toggle="tab"]').attr("aria-expanded",!0),s?(e[0].offsetWith,e.addClass("in")):e.removeClass("fade"),n&&n()}var o=i.find("> .active"),s=n&&t.support.transition&&(o.length&&o.hasClass("fade")||!!i.find("> .fade").length);o.length&&s?o.one(t.support.transition.end,a).emulateTransitionEnd(150):a(),o.removeClass("in")};var n=t.fn.tab;t.fn.tab=e,t.fn.tab.Constructor=i,t.fn.tab.noConflict=function(){return t.fn.tab=n,this},t(document).on("tap",'[data-toggle="tab"]',function(i){i.preventDefault(),e.call(t(this),"show")}),t(document).on("click",'[data-toggle="tab"]',function(t){t.preventDefault()})}(window.Zepto),+function(t){"use strict";function e(){var t=document.createElement("fancy"),e={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var i in e)if(void 0!==t.style[i])return{end:e[i]}}t.fn.emulateTransitionEnd=function(e){var i=!1,n=this;t(this).one(t.support.transition.end,function(){i=!0});var a=function(){i||t(n).trigger(t.support.transition.end)};return setTimeout(a,e),this},t(function(){t.support.transition=e()})}(window.Zepto)+function(t){"use strict";function e(e){return this.each(function(){var i=t(this),a=t.extend({},n.DEFAULTS,"object"==typeof e&&e),o=i.data("fancy:validate");o||i.data("fancy:validate",o=new n(this,a))})}function i(t,e){return"object"!==(typeof e).toLowerCase()?t:t.replace(/\{(.*?)\}/g,function(t,i){return e[i]?e[i]:""})}var n=function(e,i){this.$form=t(e),this.options=i,this.$form.on("submit",t.proxy(this.submit,this))};n.DEFAULTS={tooltipClass:"danger",tooltipFade:!0,tooltipDuration:3e3},n.FN={required:function(t){return null!==t&&""!==t},email:function(t){return/^[a-z0-9-_\.]+@[a-z0-9-_\.]+\.[a-z]{2,4}$/.test(t)},www:function(t){return/^(http:\/\/)|(https:\/\/)[a-z0-9\/\.-_]+\.[a-z]{2,4}$/.test(t)},date:function(t){return/^[\d]{2}\/[\d]{2}\/[\d]{4}$/.test(t)},time:function(t){return/^[\d]{2}:[\d]{2}(:{0,1}[\d]{0,2})$/.test(t)},datetime:function(t){return/^[\d]{2}\/[\d]{2}\/[\d]{4} [\d]{2}:[\d]{2}:{0,1}[\d]{0,2}$/.test(t)},integer:function(t){return/^[+-]?\d+$/.test(t)},"float":function(t){return/^[+-]?\d+\.\d+$/.test(t)},number:function(t){return/^[+-]?(\d+)|(\d+\.\d+)$/.test(t)},equal:function(t,e){return t==e},match:function(e,i){return e==t(i).val()},min:function(t,e){return Number(t)>=e},max:function(t,e){return Number(t)<=e},between:function(t,e,i){return Number(t)>=e&&Number(t)<=i},length:function(t,e){return t.length==e},length_min:function(t,e){return t.length>=e},length_max:function(t,e){return t.length<=e},length_between:function(t,e,i){return t.length>=e&&t.length<=i}},n.MESSAGES={required:"{alias}不能为空！",email:"请输入正确的email格式！",www:"The value is not valid http string",date:"The value is not valid date",time:"The value is not valid time",datetime:"The value is not valid datetime",integer:"{alias}的输入值必须为整数！","float":"{alias}的输入值必须为小数！",number:"{alias}的输入值必须是数字格式！",equal:"{alias}输入值与{param1}不匹配！",match:"{alias}输入值与{param1}不匹配！",min:"{alias}输入值必须大于{param1}",max:"{alias}输入值必须小于{param1}",between:"The value must be between {param1} and {param2}",length:"{alias}的长度为{param1}",length_min:"{alias}的输入值长度必须大于{param1}",length_max:"{alias}的输入值长度必须小于{param1}",length_between:"The length of the value must be between {param1} and {param2}"},n.prototype.validate=function(e){var a=t(e),o=a.data("validate").split("|"),s=[];for(var r in o){var d=o[r].split(","),c=d[0];d[0]=a.val().trim();var l=n.FN[c],p=l.apply(a,d);if(!p){var h=n.MESSAGES[c];if(a.data("validate-"+c+"-message"))h=a.data("validate-"+c+"-message");else{var f={};f.alias=a.data("alias")?a.data("alias"):a.attr("name");for(var u=1;u<d.length;u++)if(/^[#\.\[]/.test(d[u])){var v=t(d[u]).data("alias");f["param"+u]=v?v:t(d[u]).attr("name")}else f["param"+u]=d[u];s.push(i(h,f))}break}}return 0!==s.length?(new window.fancyalert({content:s.pop()}),!1):!0},n.prototype.submit=function(){var t=this,e=!0;return this.$form.find("input[data-validate], select[data-validate], textarea[data-validate]").each(function(){return e=t.validate(this),e?void 0:e}),e},n.prototype.tooltip=function(e){if(!this.tooltipVisible){this.tooltipVisible=!0;var i='<div class="alert '+this.options.tooltipClass+'">'+e+"</div>";this.$tooltip=t(i).appendTo(t(document.body));var n=this,a=function(){n.tooltipVisible=!1,n.$tooltip.remove(),n.$tooltip=null};this.options.tooltipFade&&setTimeout(a,this.options.tooltipDuration)}};var a=t.fn.validate;t.fn.validate=e,t.fn.validate.noConflict=function(){return t.fn.validate=a,this},t(document).ready(function(){t('form[data-validate="true"]').each(function(){var i=t(this);e.call(i,i.data())})}),t('form[data-validate="true"]').on("blur","[data-validate]",function(){var e=t(this),i=e.parents('form[data-validate="true"]');if(e.is("input")||e.is("select")||e.is("textarea")){var n=e.data("validate");n.trim()&&i.data("fancy:validate").validate(this)}})}(window.Zepto);