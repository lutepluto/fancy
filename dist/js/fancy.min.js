+function(t){"use strict";function e(e,i){return this.each(function(){var o=t(this),a=t(this).data("fancy.actionsheet"),s=t.extend({},t(this).data(),"object"==typeof e&&e);a||o.data("fancy.actionsheet",a=new n(this,s)),"string"==typeof e?a[e](i):a.open(i)})}var n=function(e,n){this.$element=t(e),this.$doc=t(document.body),this.options=n,this.$backdrop=this.isOpen=null};n.prototype.toggle=function(t){this.isOpen?this.close():this.open(t)},n.prototype.open=function(e){var n=this,i=t.Event("fancy:actionsheet:open",{relateTarget:e});this.$element.trigger(i),this.isOpen||(this.isOpen=!0,this.$element.one("tap",'[data-dismiss="actionsheet"]',t.proxy(this.close,this)),this.$element.one("tap","[data-value]",t.proxy(this.select,this)),this.backdrop(function(){var e=t.support.transition&&n.$element.hasClass("fade");n.$element.show(),e&&n.$element[0].offsetWidth,n.$element.addClass("in");var i=t.Event("fancy:actionsheet:opend");e?n.$element.one(t.support.transition.end,function(){n.$element.trigger("focus").trigger(i)}).emulateTransitionEnd(300):n.$element.trigger("focus").trigger(i)}))},n.prototype.close=function(e){e&&e.preventDefault(),e=t.Event("fancy:actionsheet:close"),this.$element.trigger(e),this.isOpen&&(this.isOpen=!1,this.$element.removeClass("in"),t.support.transition?this.$element.one(t.support.transition.end,t.proxy(this.hideActionsheet,this)).emulateTransitionEnd(300):this.hideActionsheet())},n.prototype.hideActionsheet=function(){var t=this;this.$element.hide(),this.backdrop(function(){t.$element.trigger("fancy:actionsheet:closed")})},n.prototype.backdrop=function(e){var n=this,i=this.$element.hasClass("fade")?"fade":"";if(this.isOpen){var o=t.support.transition&&i;if(this.$backdrop=t('<div class="backdrop '+i+'"/>').appendTo(this.$doc).one("tap",t.proxy(this.close,this)),o&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!e)return;o?this.$backdrop.one(t.support.transition.end,e).emulateTransitionEnd(150):e()}else if(!this.isOpen&&this.$backdrop){this.$backdrop.removeClass("in");var a=function(){n.removeBackdrop(),e&&e()};t.support.transition&&this.$backdrop.hasClass("fade")?this.$backdrop.one(t.support.transition.end,a).emulateTransitionEnd(150):a()}else e&&e()},n.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},n.prototype.select=function(e){if(e.target===e.currentTarget){var n=t(e.target),i=n.text(),o=n.data("value"),a=t.Event("fancy:actionsheet:selected",{id:o,val:i});this.close(),this.$element.trigger(a)}};var i=t.fn.actionsheet;t.fn.actionsheet=e,t.fn.actionsheet.constructor=n,t.fn.actionsheet.noConflict=function(){return t.fn.actionsheet=i,this},t(document).on("tap",'[data-toggle="actionsheet"]',function(){var n=t(this),i=t(n.data("target")),o=i.data("fancy.actionsheet")?"toggle":t.extend({},i.data(),n.data());e.call(i,o,this)})}(window.Zepto)+function(t){"use strict";function e(e){return this.each(function(){var i=t(this),o=t.extend({},n.DEFAULTS,i.data(),"object"==typeof e&&e),a=i.data("fancy.combox");a||i.data("fancy.combox",a=new n(this,o)),a.init()})}var n=function(e,n){this.$element=t(e),this.$container=null,this.$optionContainer=null,this.$backdrop=null,this.options=n,this.menuOpen=!1};n.DEFAULTS={placeholder:"请选择",clazz:"",columns:3,optionIconSize:48},n.prototype.init=function(){this.$element.css({display:"none",opacity:0});var e='<div class="combox-container"><a href="javascript: void(0)" class="combox-current '+this.options.clazz+'" data-role="currentOption"><span class="combox-chosen">'+this.options.placeholder+'</span><span class="icon icon-chevron-down icon-small combox-menu-indicator"></a><div class="option-container fade"></div></div>';this.$container=t(e).insertAfter(this.$element),this.$optionContainer=this.$container.find(".option-container");for(var n=this.$element.find("li"),i=Math.ceil(n.length/this.options.columns),o=i*this.options.columns-n.length,a=1;i>=a;a++){t('<div class="combox-option-row" />').appendTo(this.$optionContainer);for(var s=n.slice((a-1)*this.options.columns,a*this.options.columns),r=0;r<s.length;r++){var c=t(s[r]).children();t(this.constructOption(c)).appendTo(this.$container.find(".combox-option-row").last())}}for(var d=0;o>d;d++)t(this.constructOption()).appendTo(this.$container.find(".combox-option-row").last()),0===d&&this.$container.find(".combox-option").last().append('<i class="option-horizontal-dots"></i>');var p=this;this.$container.on("tap",'[data-role="currentOption"]',t.proxy(this.toggle,this)),this.$container.on("tap",'[data-role="comboxOption"]',function(){var e=t(".combox-option").index(t(this)),n=t(p.$element.find("li")[e]).children(),i=t.Event("fancy:combox:choose",{relatedTarget:n[0]});p.closeMenu(),p.$container.find(".combox-chosen").text(t(this).text()),p.$element.trigger(i)})},n.prototype.constructOption=function(t){var e="";if(t){var n=t.data("icon")?'<img src="'+t.data("icon")+'" style="width: '+this.options.optionIconSize+"px;height: "+this.options.optionIconSize+'px;display: block;">':"",i=t.text(),o=t.data("disabled");e=o?'<a href="javascript: void(0)" class="combox-option" disabled>'+n+i+"</a>":'<a href="javascript: void(0)" class="combox-option" data-role="comboxOption" data-target="'+t.attr("href")+'">'+n+i+"</a>"}else e='<a href="javascript: void(0)" class="combox-option" disabled></a>';return e},n.prototype.toggle=function(){this.menuOpen?this.closeMenu():this.showMenu()},n.prototype.showMenu=function(){var e=this,n=t.Event("fancy:combox:open");this.$element.trigger(n),this.menuOpen||n.isDefaultPrevented()||(this.menuOpen=!0,this.$container.addClass("combox-menu-open"),this.backdrop(function(){var n=t.support.transition&&e.$optionContainer.hasClass("fade");e.$optionContainer.show();var i=e.$optionContainer[0].offsetWidth/e.options.columns;e.$container.find(".combox-option").each(function(){t(this).css("width",i+"px")}),n&&e.$optionContainer[0].offsetWidth,e.$optionContainer.addClass("in");var o=t.Event("fancy:combox:opend");n?e.$optionContainer.one(t.support.transition.end,function(){e.$element.trigger(o)}).emulateTransitionEnd(150):e.$optionContainer.trigger(o)}))},n.prototype.closeMenu=function(e){e&&e.preventDefault(),e=t.Event("fancy:combox:close"),this.$element.trigger(e),this.menuOpen&&!e.isDefaultPrevented()&&(this.menuOpen=!1,this.$container.removeClass("combox-menu-open"),this.$optionContainer.removeClass("in"),t.support.transition&&this.$optionContainer.hasClass("fade")?this.$optionContainer.one(t.support.transition.end,t.proxy(this.hideMenu,this)).emulateTransitionEnd(150):this.hideMenu())},n.prototype.hideMenu=function(){var t=this;this.$optionContainer.hide(),this.backdrop(function(){t.$element.trigger("fancy:combox:closed")})},n.prototype.backdrop=function(e){var n=this,i=this.$container.find(".option-container").hasClass("fade")?"fade":"";if(this.menuOpen){var o=t.support.transition&&i;if(this.$backdrop=t('<div class="backdrop '+i+'" />').appendTo(t(document.body)),this.$backdrop.one("tap",t.proxy(this.closeMenu,this)),o&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!e)return;o?this.$backdrop.one(t.support.transition.end,e).emulateTransitionEnd(150):e()}else if(!this.menuOpen&&this.$backdrop){this.$backdrop.removeClass("in");var a=function(){n.removeBackdrop(),e&&e()};t.support.transition&&this.$backdrop.hasClass("fade")?this.$backdrop.one(t.support.transition.end,a).emulateTransitionEnd(150):a()}else e&&e()},n.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null};var i=t.fn.combox;t.fn.combox=e,t.fn.combox.Constructor=n,t.fn.combox.noConflict=function(){return t.fn.combox=i,this}}(window.Zepto),+function(t){"use strict";function e(e){return this.each(function(){var i=t(this),o=i.data("fancy.drawerselector"),a=t.extend({},n.DEFAULTS,i.data(),"object"==typeof e&&e);o||i.data("fancy.drawerselector",o=new n(this,a)),"string"==typeof e?o[e]():o.open()})}var n=function(e,n){this.$element=t(e),this.$target=t(this.$element.data("target")||this.$element.attr("href")),this.$doc=t(document.body),this.options=n,this.$backdrop=this.isOpen=null};n.DEFAULTS={},n.prototype.toggle=function(){this.isOpen?this.close():this.open()},n.prototype.open=function(){var e=this,n=t.Event("fancy:drawerselector:open");this.$element.trigger(n),this.isOpen||(this.isOpen=!0,this.$target.find('input[type="radio"]').one("change",t.proxy(this.select,this)),this.backdrop(function(){var n=t.support.transition&&e.$target.hasClass("fade");e.$target.show(),n&&e.$target[0].offsetWidth,e.$target.addClass("in");var i=t.Event("fancy:drawerselector:opend");n?e.$target.one(t.support.transition.end,function(){e.$target.trigger(i)}).emulateTransitionEnd(300):e.$target.trigger(i)}))},n.prototype.close=function(e){var n=t.Event("fancy:drawerselector:close");this.$element.trigger(n),this.isOpen&&(this.isOpen=!1,this.$target.removeClass("in"),t.support.transition?this.$target.one(t.support.transition.end,t.proxy(this.hideDrawer,this,e)).emulateTransitionEnd(300):this.hideDrawer(e))},n.prototype.hideDrawer=function(t){var e=this;this.$target.hide(),this.backdrop(function(){e.$element.trigger("fancy:drawerselector:closed"),t&&t()})},n.prototype.backdrop=function(e){var n=this,i=this.$target.hasClass("fade")?"fade":"";if(this.isOpen){var o=t.support.transition;if(this.$backdrop=t('<div class="backdrop '+i+'"/>').appendTo(this.$doc).one("tap",t.proxy(this.close,this)),o&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!e)return;o?this.$backdrop.one(t.support.transition.end,e).emulateTransitionEnd(150):e()}else if(!this.isOpen&&this.$backdrop){this.$backdrop.removeClass("in");var a=function(){n.removeBackdrop(),e&&e()};t.support.transition&&this.$backdrop.hasClass("fade")?this.$backdrop.one(t.support.transition.end,a).emulateTransitionEnd(150):a()}else e&&e()},n.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},n.prototype.select=function(e){if(e.currentTarget===e.target){var n=this,i=e.target.value,o=t(e.target).parents(".item-radio").text();e=t.Event("fancy:drawerselector:selected",{id:i,val:o}),this.close(function(){n.$element.trigger(e)})}};var i=t.fn.drawerselector;t.fn.drawerselector=e,t.fn.drawerselector.constructor=n,t.fn.drawerselector.noConflict=function(){return t.fn.drawerselector=i,this},t(document).on("tap",'[data-toggle="drawerselector"]',function(){var n=t(this),i=n.data("fancy.drawerselector")?"toggle":t.extend({},n.data());e.call(n,i)})}(window.Zepto)+function(t){"use strict";function e(e){return this.each(function(){var i=t(this),o=i.data("fancy.dropwizard"),a=t.extend({},n.DEFAULTS,i.data(),"object"==typeof e&&e);o||i.data("fancy.dropwizard",o=new n(this,a)),"string"==typeof e&&o[e]()})}var n=function(e,n){this.$element=t(e),this.$target=t(t(e).data("target")||t(e).attr("href")),this.$ul=t(e).closest("ul"),this.$backdrop=null,this.options=n,this.isOpen=null,this.$target.on("tap","[data-direct]",t.proxy(this.direct,this)),this.$target.on("tap",'[data-confirm="dropwizard"]',t.proxy(this.confirm,this))};n.DEFAULTS={maxTextLength:6},n.prototype.toggle=function(){this.isOpen?this.close():this.open()},n.prototype.open=function(){var e=this.$element,n=this,i=t.Event("fancy:dropwizard:open");if(e.trigger(i),!i.isDefaultPrevented()){var o=this.$ul.find(".open > a")[0];o&&this.switchOpen(o),this.isOpen=!0,this.backdrop(function(){var e=t.support.transition&&n.$target.hasClass("fade");n.$element.parent().addClass("open"),n.$target.addClass("active"),e&&n.$target[0].offsetWidth,n.$target.addClass("in");var i=t.Event("fancy:dropwizard:opend",{relatedTarget:n.$target[0]});e?n.$target.one(t.support.transition.end,function(){n.$element.trigger(i)}).emulateTransitionEnd(150):n.$element.trigger(i)})}},n.prototype.close=function(){var e=t.Event("fancy:dropwizard:close");this.$element.trigger(e),e.isDefaultPrevented()||(this.isOpen=!1,this.$element.parent().removeClass("open"),this.$target.removeClass("in"),t(".dropwizard-backdrop").remove(),t.support.transition&&this.$target.hasClass("fade")?this.$target.one(t.support.transition.end,t.proxy(this.hideDropwizardMenu,this)).emulateTransitionEnd(300):this.hideDropwizardMenu())},n.prototype.hideDropwizardMenu=function(){var t=this;this.$target.removeClass("active"),this.backdrop(function(){t.$element.trigger("fancy:dropwizard:closed")})},n.prototype.switchOpen=function(e){var n=t(e),i=t(n.data("target")||n.attr("href"));n.parent().removeClass("open"),n.data("fancy.dropwizard").isOpen=!1,i.removeClass("in"),t.support.transition&&i.hasClass("fade")?i.one(t.support.transition.end,function(){t(this).removeClass("active")}).emulateTransitionEnd(300):i.removeClass("active")},n.prototype.direct=function(e){e.preventDefault();var n=t(e.target),i=t(n.data("direct"));if(e=t.Event("fancy:dropwizard:direct",{relatedTarget:i[0]}),n.trigger(e),!i.hasClass("active")){var o=n.closest("ul"),a=o.find(".active");a.length&&t(a.removeClass("active").children().data("direct")).removeClass("active"),n.parent().addClass("active"),i.addClass("active"),e=t.Event("fancy:dropwizard:directed",{relatedTarget:i[0]}),n.trigger(e)}},n.prototype.confirm=function(e){var n=t(e.target),i=n.text().trim();n.closest(".dropwizard-menu").find(".menu li.active").each(function(){t(this).children().data("confirm")&&t(this).removeClass("active")}),n.parent().addClass("active"),this.$ul.find(".open > a > span").text(i.length>this.options.maxTextLength?i.substring(0,this.options.maxTextLength-1)+"...":i),this.$ul.find(".open > a").trigger("tap").trigger("fancy:dropwizard:confirm")},n.prototype.backdrop=function(e){var n=this;if(this.isOpen){if(t(".backdrop.dropwizard-backdrop").length||(this.$backdrop=t('<div class="backdrop fade in dropwizard-backdrop" />').appendTo(t(document.body)),this.$backdrop.one("tap",function(t){t.target===t.currentTarget&&n.$ul.find(".open > a").trigger("tap")})),!e)return;e()}else e&&e()},n.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null};var i=t.fn.dropwizard;t.fn.dropwizard=e,t.fn.dropwizard.noConflict=function(){return t.fn.dropwizard=i,this},t(document).on("tap",'[data-toggle="dropwizard"]',function(n){n.preventDefault(),e.call(t(this),"toggle")})}(window.Zepto),+function(t){"use strict";function e(e,i){return this.each(function(){var o=t(this),a=t(this).data("fancy.fixedselector"),s=t.extend({},t(this).data(),"object"==typeof e&&e);a||o.data("fancy.fixedselector",a=new n(this,s)),"string"==typeof e?a[e](i):a.open(i)})}var n=function(e,n){this.$element=t(e),this.$doc=t(document.body),this.options=n,this.$backdrop=this.isOpen=null,this.$element.on("tap",".selector-item",t.proxy(this.selectMenu,this))};n.DEFAULTS={},n.prototype.toggle=function(t){this.isOpen?this.close():this.open(t)},n.prototype.open=function(e){var n=this,i=t.Event("fancy:fixedselector:open",{relateTarget:e});this.$element.trigger(i),this.isOpen||(this.isOpen=!0,this.$element.one("tap",'[data-dismiss="fixedselector"]',t.proxy(this.close,this)),this.$element.one("tap",'[data-confirm="fixedselector"]',t.proxy(this.confirm,this)),this.backdrop(function(){var e=t.support.transition&&n.$element.hasClass("fade");n.$element.show(),e&&n.$element[0].offsetWidth,n.$element.addClass("in");var i=t.Event("fancy:fixedselector:opend");e?n.$element.one(t.support.transition.end,function(){n.$element.trigger("focus").trigger(i)}).emulateTransitionEnd(300):n.$element.trigger("focus").trigger(i)}))},n.prototype.close=function(e){e&&e.preventDefault(),e=t.Event("fancy:fixedselector:close"),this.$element.trigger(e),this.isOpen&&(this.isOpen=!1,this.$element.removeClass("in"),t.support.transition?this.$element.one(t.support.transition.end,t.proxy(this.hideSelector,this)).emulateTransitionEnd(300):this.hideSelector())},n.prototype.hideSelector=function(){var t=this;this.$element.hide(),this.backdrop(function(){t.$element.trigger("fancy:fixedselector:closed")})},n.prototype.backdrop=function(e){var n=this,i=this.$element.hasClass("fade")?"fade":"";if(this.isOpen){var o=t.support.transition;if(this.$backdrop=t('<div class="backdrop '+i+'"/>').appendTo(this.$doc).one("tap",t.proxy(this.close,this)),o&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!e)return;o?this.$backdrop.one(t.support.transition.end,e).emulateTransitionEnd(150):e()}else if(!this.isOpen&&this.$backdrop){this.$backdrop.removeClass("in");var a=function(){n.removeBackdrop(),e&&e()};t.support.transition&&this.$backdrop.hasClass("fade")?this.$backdrop.one(t.support.transition.end,a).emulateTransitionEnd(150):e()}else e&&e()},n.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},n.prototype.selectMenu=function(e){if(e.target===e.currentTarget){var n=t(e.target);n.closest(".selector-group").find(".active").removeClass("active"),n.parent().addClass("active")}},n.prototype.confirm=function(){var e=[];this.$element.find(".selector-group").each(function(){var n=t(this);e.push({id:n.find(".active").children().data("value"),val:n.find(".active").children().text()})}),this.close();var n=t.Event("fancy:fixedselector:confirm",{values:e});this.$element.trigger(n)};var i=t.fn.FixedSelector;t.fn.fixedSelector=e,t.fn.fixedSelector.constructor=n,t.fn.fixedSelector.noConflict=function(){return t.fn.fixedSelector=i,this},t(document).on("tap",'[data-toggle="fixedselector"]',function(){var n=t(this),i=t(n.data("target")),o=n.data("fancy.fixedselector")?"toggle":t.extend({},i.data(),n.data());e.call(i,o,this)})}(window.Zepto)+function(t){"use strict";function e(e){return this.each(function(){var i=t(this),o=i.data("fancy.fullcover"),a=t.extend({},n.DEFAULTS,i.data(),"object"==typeof e&&e);o||i.data("fancy.fullcover",o=new n(this,a)),"string"==typeof e?o[e]():o.open()})}var n=function(e,n){this.$element=t(e),this.target=this.$element.data("target")||this.$element.attr("href"),this.$doc=t(document.body),this.options=n,this.$backdrop=null,this.$target=null,this.isOpen=null};n.DEFAULTS={},n.prototype.toggle=function(){this.isOpen?this.close():this.open()},n.prototype.open=function(){var e=this,n=t.Event("fancy:fullcover:open");if(this.$element.trigger(n),!this.isOpen){this.isOpen=!0;var i=t.support.transition,o='<div id="'+this.target.substring(1)+'" class="full-cover fade"></div>';this.$target=t(o).appendTo(this.$doc),this.$element.trigger("fancy:fullcover:opening"),i&&this.$target[0].offsetWidth,this.$target.addClass("in"),n=t.Event("fancy:fullcover:opend"),i?this.$target.one(t.support.transition.end,function(){e.$target.trigger(n)}).emulateTransitionEnd(300):e.$target.trigger(n)}},n.prototype.close=function(e){var n=t.Event("fancy:fullcover:close");this.$element.trigger(n),this.isOpen&&(this.isOpen=!1,this.$target.removeClass("in"),t.support.transition?this.$target.one(t.support.transition.end,t.proxy(this.hideCover,this,e)).emulateTransitionEnd(300):this.hideCover(e))},n.prototype.hideCover=function(t){this.$target.remove(),this.$element.trigger("fancy:fullcover:closed"),t&&t()};var i=t.fn.fullcover;t.fn.fullcover=e,t.fn.fullcover.noConflict=function(){return t.fn.fullcover=i,this},t(document).on("tap",'[data-toggle="fullcover"]',function(){var n=t(this),i=n.data("fancy.fullcover")?"toggle":t.extend({},n.data());e.call(n,i)})}(window.Zepto)+function(t){"use strict";function e(e,i){return this.each(function(){var o=t(this),a=t(this).data("fancy.gearselector"),s=t.extend({},t(this).data(),"object"==typeof e&&e);a||o.data("fancy.gearselector",a=new n(this,s)),"string"==typeof e?a[e](i):a.open(i)})}var n=function(e,n){this.$element=t(e),this.$doc=t(document.body),this.options=n,this.$backdrop=this.isOpen=null,this.$element.on("tap",".selector-item",t.proxy(this.switchMenu,this))};n.DEFAULTS={},n.prototype.toggle=function(t){this.isOpen?this.close():this.open(t)},n.prototype.open=function(e){var n=this,i=t.Event("fancy:gearselector:open",{relateTarget:e});this.$element.trigger(i),this.isOpen||(this.isOpen=!0,this.$element.one("tap",'[data-dismiss="gearselector"]',t.proxy(this.close,this)),this.$element.one("tap",'[data-confirm="gearselector"]',t.proxy(this.confirm,this)),this.backdrop(function(){var e=t.support.transition&&n.$element.hasClass("fade");n.$element.show(),e&&n.$element[0].offsetWidth,n.$element.addClass("in");var i=t.Event("fancy:gearselector:opend");e?n.$element.one(t.support.transition.end,function(){n.$element.trigger("focus").trigger(i)}).emulateTransitionEnd(300):n.$element.trigger("focus").trigger(i)}))},n.prototype.close=function(e){e&&e.preventDefault(),e=t.Event("fancy:gearselector:close"),this.$element.trigger(e),this.isOpen&&(this.isOpen=!1,this.$element.removeClass("in"),t.support.transition?this.$element.one(t.support.transition.end,t.proxy(this.hideSelector,this)).emulateTransitionEnd(300):this.hideSelector())},n.prototype.hideSelector=function(){var t=this;this.$element.hide(),this.backdrop(function(){t.$element.trigger("fancy:gearselector:closed")})},n.prototype.backdrop=function(e){var n=this,i=this.$element.hasClass("fade")?"fade":"";if(this.isOpen){var o=t.support.transition;if(this.$backdrop=t('<div class="backdrop '+i+'"/>').appendTo(this.$doc).one("tap",t.proxy(this.close,this)),o&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!e)return;o?this.$backdrop.one(t.support.transition.end,e).emulateTransitionEnd(150):e()}else if(!this.isOpen&&this.$backdrop){this.$backdrop.removeClass("in");var a=function(){n.removeBackdrop(),e&&e()};t.support.transition&&this.$backdrop.hasClass("fade")?this.$backdrop.one(t.support.transition.end,a).emulateTransitionEnd(150):e()}else e&&e()},n.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},n.prototype.switchMenu=function(e){if(e.target===e.currentTarget){var n=t(e.target),i=t(e.target).data("submenu"),o=n.closest(".selector-group").find(".active");if(o.length){o.removeClass("active");for(var a=o;a&&a.children().data("submenu");){var s=t(a.children().data("submenu")).removeClass("active");a=s.children(".active").length?s.children(".active").removeClass("active"):null}}if(n.parent().addClass("active"),i)if(t(i).length)t(i).addClass("active");else if(this.options.navigation){var r=this.options.navigation,c=n.data("params");t.ajax({url:r,data:c,type:"GET",success:function(){}}).done(function(){t(i).addClass("active")})}}},n.prototype.confirm=function(){var e=!0,n=[];if(this.$element.find(".selector-group.active").each(function(i){var o=t(this),a=o.find(".active").children().data("value"),s=o.find(".active").children().text();return"null"==s.trim()?(e=!1,!1):void n.push({index:i,id:a,val:s})}),e){this.close();var i=t.Event("fancy:gearselector:confirm",{values:n});this.$element.trigger(i)}};var i=t.fn.GearSelector;t.fn.gearSelector=e,t.fn.gearSelector.constructor=n,t.fn.gearSelector.noConflict=function(){return t.fn.gearSelector=i,this},t(document).on("tap",'[data-toggle="gearselector"]',function(){var n=t(this),i=t(n.data("target")),o=n.data("fancy.gearselector")?"toggle":t.extend({},i.data(),n.data());e.call(i,o,this)})}(window.Zepto)+function(t){"use strict";function e(e){return this.each(function(){var i=t(this),o=i.data("fancy.modal"),a=t.extend({},i.data(),"object"==typeof e&&e);o||i.data("fancy.modal",o=new n(this,a)),"string"==typeof e?o[e]():o.open()})}var n=function(e,n){this.$element=t(e),this.$target=t(this.$element.data("target")||this.$element.attr("href")),this.$doc=t(document.body),this.options=n,this.$backdrop=this.isOpen=null};n.DEFAULTS={},n.prototype.toggle=function(){this.isOpen?this.close():this.open()},n.prototype.open=function(){var e=this,n=t.Event("fancy:modal:open");this.$element.trigger(n),this.isOpen||n.isDefaultPrevented()||(this.isOpen=!0,this.$doc.addClass("modal-open"),this.$target.one("tap",'[data-dismiss="modal"]',t.proxy(this.close,this)),this.backdrop(function(){var n=t.support.transition&&e.$target.hasClass("fade");e.$target.show().scrollTop(0),n&&e.$target[0].offsetWith,e.$target.addClass("in");var i=t.Event("fancy:modal:opend");n?e.$target.find(".modal-dialog").one(t.support.transition.end,function(){e.$target.trigger("focus").trigger(i)}).emulateTransitionEnd(300):e.$target.trigger("focus").trigger(i)}))},n.prototype.close=function(e){e&&e.preventDefault(),e=t.Event("fancy:modal:close"),this.$element.trigger(e),this.isOpen&&!e.isDefaultPrevented()&&(this.isOpen=!1,this.$doc.removeClass("modal-open"),this.$target.removeClass("in"),t.support.transition&&this.$target.hasClass("fade")?this.$target.one(t.support.transition.end,t.proxy(this.hideDialog,this)).emulateTransitionEnd(300):this.hideDialog())},n.prototype.hideDialog=function(){var t=this;this.$target.hide(),this.backdrop(function(){t.$element.trigger("fancy:modal:closed")})},n.prototype.backdrop=function(e){var n=this,i=this.$target.hasClass("fade")?"fade":"";if(this.isOpen){var o=t.support.transition&&i;if(this.$backdrop=t('<div class="backdrop '+i+'" />').appendTo(this.$doc),this.$target.one("tap",t.proxy(function(t){t.target===t.currentTarget&&this.close.call(this)},this)),o&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!e)return;o?this.$backdrop.one(t.support.transition.end,e).emulateTransitionEnd(150):e()}else if(!this.isOpen&&this.$backdrop){this.$backdrop.removeClass("in");var a=function(){n.removeBackdrop(),e&&e()};t.support.transition&&this.$backdrop.hasClass("fade")?this.$backdrop.one(t.support.transition.end,a).emulateTransitionEnd(150):a()}else e&&e()},n.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null};var i=t.fn.modal;t.fn.modal=e,t.fn.modal.noConflict=function(){return t.fn.modal=i,this},t(document).on("tap",'[data-toggle="modal"]',function(){var n=t(this),i=n.data("fancy.modal")?"toggle":t.extend({},n.data());e.call(n,i)})}(window.Zepto)+function(t){"use strict";function e(e){return this.each(function(){var i=t(this),o=i.data("fancy.segmentedcontrol");o||i.data("fancy.segmentedcontrol",o=new n(this)),"string"==typeof e&&o[e]()})}var n=function(e){this.$element=t(e)};n.prototype["switch"]=function(){var e=this.$element,n=e.closest(".segmented-control"),i=t(e.data("target")||e.attr("href")),o=i.closest(".segmented-content");if(!e.hasClass("active")){var a=n.find(".active"),s=o.find(".active"),r=t.Event("fancy:segmentedcontrol:switching");e.trigger(r),a.removeClass("active"),e.addClass("active"),s.removeClass("active"),i.addClass("active"),e.trigger("fancy:segmentedcontrol:switched")}};var i=t.fn.SegmentedControl;t.fn.segmentedControl=e,t.fn.segmentedControl.constructor=n,t.fn.segmentedControl.noConflict=function(){return t.fn.segmentedControl=i,this},t(document).on("tap",'[data-toggle="segmented"]',function(n){n.preventDefault(),e.call(t(this),"switch")})}(window.Zepto)+function(t){"use strict";function e(e){return this.each(function(){var i=t(this),o=i.data("fancy.tab");o||i.data("fancy.tab",o=new n(this)),"string"==typeof e&&o[e]()})}var n=function(e){this.$element=t(e)};n.prototype.show=function(){var e=this.$element,n=e.closest("ul"),i=e.data("target")||e.attr("href");if(!e.parent("li").hasClass("active")){var o=n.find(".active a"),a=t.Event("fancy:tab:hide",{relatedTarget:e[0]}),s=t.Event("fancy:tab:show",{relatedTarget:o[0]});if(o.trigger(a),e.trigger(s),!s.isDefaultPrevented()&&!a.isDefaultPrevented()){var r=t(i);this.activate(e.closest("li"),n),this.activate(r,r.parent(),function(){o.trigger("fancy:tab:hidden",{relatedTarget:e[0]}),e.trigger("fancy:tab:shown",{relatedTarget:o[0]})})}}},n.prototype.activate=function(e,n,i){function o(){a.removeClass("active").find('[data-toggle="tab"]').attr("aria-expanded",!1),e.addClass("active").find('[data-toggle="tab"]').attr("aria-expanded",!0),s?(e[0].offsetWith,e.addClass("in")):e.removeClass("fade"),i&&i()}var a=n.find("> .active"),s=i&&t.support.transition&&(a.length&&a.hasClass("fade")||!!n.find("> .fade").length);a.length&&s?a.one(t.support.transition.end,o).emulateTransitionEnd(150):o(),a.removeClass("in")};var i=t.fn.tab;t.fn.tab=e,t.fn.tab.Constructor=n,t.fn.tab.noConflict=function(){return t.fn.tab=i,this},t(document).on("tap",'[data-toggle="tab"]',function(n){n.preventDefault(),e.call(t(this),"show")}),t(document).on("click",'[data-toggle="tab"]',function(t){t.preventDefault()})}(window.Zepto),+function(t){"use strict";function e(){var t=document.createElement("fancy"),e={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var n in e)if(void 0!==t.style[n])return{end:e[n]}}t.fn.emulateTransitionEnd=function(e){var n=!1,i=this;t(this).one(t.support.transition.end,function(){n=!0});var o=function(){n||t(i).trigger(t.support.transition.end)};return setTimeout(o,e),this},t(function(){t.support.transition=e()})}(window.Zepto)+function(t){"use strict";function e(e){return this.each(function(){var i=t(this),o=t.extend({},n.DEFAULTS,"object"==typeof e&&e),a=i.data("fancy:validate");a||i.data("fancy:validate",a=new n(this,o))})}var n=function(e,n){this.$form=t(e),this.options=n,this.$form.on("submit",t.proxy(this.submit,this))};n.DEFAULTS={tooltipClass:"danger",tooltipFade:!0,tooltipDuration:3e3},n.FN={required:function(t){return null!==t&&""!==t},email:function(t){return/^[a-z0-9-_\.]+@[a-z0-9-_\.]+\.[a-z]{2,4}$/.test(t)},www:function(t){return/^(http:\/\/)|(https:\/\/)[a-z0-9\/\.-_]+\.[a-z]{2,4}$/.test(t)},date:function(t){return/^[\d]{2}\/[\d]{2}\/[\d]{4}$/.test(t)},time:function(t){return/^[\d]{2}:[\d]{2}(:{0,1}[\d]{0,2})$/.test(t)},datetime:function(t){return/^[\d]{2}\/[\d]{2}\/[\d]{4} [\d]{2}:[\d]{2}:{0,1}[\d]{0,2}$/.test(t)},integer:function(t){return/^[+-]?\d+$/.test(t)},"float":function(t){return/^[+-]?\d+\.\d+$/.test(t)},number:function(t){return/^[+-]?(\d+)|(\d+\.\d+)$/.test(t)},equal:function(t,e){return t==e},match:function(e,n){return e==t(n).val()},min:function(t,e){return Number(t)>=e},max:function(t,e){return Number(t)<=e},between:function(t,e,n){return Number(t)>=e&&Number(t)<=n},length_min:function(t,e){return t.length>=e},length_max:function(t,e){return t.length<=e},length_between:function(t,e,n){return t.length>=e&&t.length<=n}},n.MESSAGES={required:'"{alias}"不能为空！',email:"请输入正确的email格式！",www:"The value is not valid http string",date:"The value is not valid date",time:"The value is not valid time",datetime:"The value is not valid datetime",integer:'"{alias}"的输入值必须为整数！',"float":'"{alias}"的输入值必须为小数！',number:'"{alias}"的输入值必须是数字格式！',equal:'"{alias}"输入值与"{param1}"不匹配！',match:'"{alias}"输入值与"{param1}"不匹配！',min:'"{alias}"输入值必须大于"{param1}"',max:'"{alias}"输入值必须小于"{param1}"',between:"The value must be between {param1} and {param2}",length_min:'"{alias}"的输入值长度必须大于"{param1}"',length_max:'"{alias}"的输入值长度必须小于"{param1}"',length_between:"The length of the value must be between {param1} and {param2}"},n.prototype.validate=function(e){var i=t(e),o=i.data("validate").split("|"),a=[];for(var s in o){var r=o[s].split(","),c=r[0];r[0]=i.val().trim();var d=n.FN[c],p=d.apply(i,r);if(!p){var l=n.MESSAGES[c];if(i.data("validate-"+c+"-message"))l=i.data("validate-"+c+"-message");else{var h={};h.alias=i.data("alias")?i.data("alias"):i.attr("name");for(var f=1;f<r.length;f++)h["param"+f]=r[f];a.push(l.format(h))}break}}return 0!==a.length?(this.tooltip(a.pop()),!1):!0},n.prototype.submit=function(){var t=this,e=!0;return this.$form.find("input[data-validate], select[data-validate], textarea[data-validate]").each(function(){return e=t.validate(this),e?void 0:e}),e},n.prototype.tooltip=function(e){if(!this.tooltipVisible){this.tooltipVisible=!0;var n='<div class="validate-tooltip '+this.options.tooltipClass+'">'+e+"</div>";this.$tooltip=t(n).appendTo(t(document.body));var i=this,o=function(){i.tooltipVisible=!1,i.$tooltip.remove(),i.$tooltip=null};this.options.tooltipFade&&setTimeout(o,this.options.tooltipDuration)}};var i=t.fn.validate;t.fn.validate=e,t.fn.validate.noConflict=function(){return t.fn.validate=i,this},t(document).ready(function(){t('form[data-validate="true"]').each(function(){var n=t(this);e.call(n,n.data())})}),t('form[data-validate="true"]').on("blur","[data-validate]",function(){
var e=t(this),n=e.parents('form[data-validate="true"]');if(e.is("input")||e.is("select")||e.is("textarea")){var i=e.data("validate");i.trim()&&n.data("fancy:validate").validate(this)}})}(window.Zepto);