<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Fancy Drawer</title>

    <!-- Sets initial viewport load and disables zooming  -->
    <meta name="viewport" content="initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no">

    <!-- Makes your prototype chrome-less once bookmarked to your phone's home screen -->
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">

    <!-- Include the compiled Ratchet CSS -->
    <link href="../dist/css/fancy.css" rel="stylesheet">
  </head>
  <body>

    <header class="bar header fixed-top transparent">
      <h1 class="title">Drawer Selector</h1>
    </header>

    <!-- Wrap all non-bar HTML in the .content div (this is actually what scrolls) -->
    <div class="content has-header">
      <form class="fancy-form">
        <div id="time-selector" class="field-row" data-toggle="drawerselector" data-target="#time">
          <label>送货时间</label>
          <input type="text" class="form-control" placeholder="填写送货时间" readonly="">
        </div>  
      </form>
    </div>

    <div id="time" class="drawerselector fade">
      <div class="list">
        <a class="item item-radio" href="javascript: void(0)" data-value="1">7:30 ~ 8:00
          <label class="radio success">
            <input name="time" type="radio" value="1">
          </label>
        </a>
        <a class="item item-radio" href="javascript: void(0)" data-value="2">8:30 ~ 9:00
          <label class="radio success">
            <input name="time" type="radio" value="2">
          </label>
        </a>
      </ul>
    </div>

    <script src="../dist/js/vendor/zepto.js"></script>
    <script src="../dist/js/fancy.js"></script>

    <script>

      $(document).ready(function() {

        var selector = $('#time-selector')

        selector.on('fancy:drawerselector:selected', function(e) {
          $(this).find('#hidden-time')[0] ?
            $(this).find('#hidden-time ').val(e.id) :
            $(this).append('<input type="hidden" id="hidden-time" value="' + e.id + '">')
          $(this).find('.form-control').val(e.val)
        })

      })

    </script>

  </body>
</html>